import{r as c,u as i,s as f,j as s,a as p,t as n}from"./vendor-DZSY-1uI.js";import{C as x}from"./Card-Dh8WgkS4.js";import{s as u,L as g,S}from"./index-B9WYzanr.js";/* empty css             */const N=()=>{const[l,d]=c.useState([]),m=i(t=>t.wishlist.items);i(t=>t.addtocart.items);const e=f();async function h(){try{const t=await p.post("http://localhost:8000/api/v1/users/Admin/ProductList");t?(d(t.data.data),console.log(t.data.data)):n.error("Cannot fetch data")}catch(t){n.error("Internal fetching error"),console.log("500",t)}}return c.useEffect(()=>{async function t(){if(await h(),localStorage.getItem("accessToken")){const o=localStorage.getItem("accessToken");e(u({accessToken:o,refreshToken:localStorage.getItem("refreshToken")}));const a=JSON.parse(localStorage.getItem("cartItems")),r=JSON.parse(localStorage.getItem("WishlistItem"));r&&e(g(r)),a&&e(S(a))}}t()},[e]),s.jsx(s.Fragment,{children:s.jsxs("section",{className:"Main",children:[s.jsx("h1",{className:"text-center text-red-500 text-2xl pt-5",children:"Shop"}),s.jsx("div",{className:"full",children:s.jsx("section",{children:s.jsx("div",{className:"flex flex-wrap justify-center items-center",children:l.map(t=>{const o=m.some(a=>a._id===t._id);return s.jsx(x,{product:t,isInWishlist:o},t._id)})})})})]})})};export{N as default};
