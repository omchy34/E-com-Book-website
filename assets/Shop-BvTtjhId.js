import{r as c,u as i,s as f,j as e,a as p,t as n}from"./vendor-B3t4vCyg.js";import{C as x}from"./Card-BTaD1QEl.js";import{s as u,L as g,S}from"./index-D5QuZvto.js";/* empty css             */const N=()=>{const[l,d]=c.useState([]),m=i(t=>t.wishlist.items);i(t=>t.addtocart.items);const s=f();async function h(){try{const t=await p.post("https://backend-1-te09.onrender.com/api/v1/users/Admin/ProductList");t?(d(t.data.data),console.log(t.data.data)):n.error("Cannot fetch data")}catch(t){n.error("Internal fetching error"),console.log("500",t)}}return c.useEffect(()=>{async function t(){if(await h(),localStorage.getItem("accessToken")){const o=localStorage.getItem("accessToken");s(u({accessToken:o,refreshToken:localStorage.getItem("refreshToken")}));const a=JSON.parse(localStorage.getItem("cartItems")),r=JSON.parse(localStorage.getItem("WishlistItem"));r&&s(g(r)),a&&s(S(a))}}t()},[s]),e.jsx(e.Fragment,{children:e.jsxs("section",{className:"Main",children:[e.jsx("h1",{className:"text-center text-red-500 text-2xl pt-5",children:"Shop"}),e.jsx("div",{className:"full",children:e.jsx("section",{children:e.jsx("div",{className:"flex flex-wrap justify-center items-center",children:l.map(t=>{const o=m.some(a=>a._id===t._id);return e.jsx(x,{product:t,isInWishlist:o},t._id)})})})})]})})};export{N as default};
